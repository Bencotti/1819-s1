



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://nus-cs1010.github.io/1819-s1/as07-comments/index.html">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.2, mkdocs-material-2.5.1">
    
    
      
        <title>7. Comments and Answer Keys - CS1010 Programming Methodology</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.aa3de92b.css">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Gentium+Book+Basic">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700">
    
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css">
    
    
  </head>
  
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#assignment-7-comments" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://nus-cs1010.github.io/1819-s1" title="CS1010 Programming Methodology" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                CS1010 Programming Methodology
              </span>
              <span class="md-header-nav__topic">
                7. Comments and Answer Keys
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/nus-cs1010/1819-s1/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    CS1010 Programming Methodology
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/nus-cs1010/1819-s1/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../index.html" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../midterm/index.html" title="Midterm" class="md-nav__link">
      Midterm
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Practical Exams
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Practical Exams
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../pe1/index.html" title="Info About PE1" class="md-nav__link">
      Info About PE1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pe1-comments/index.html" title="PE1 Comments and Answers" class="md-nav__link">
      PE1 Comments and Answers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pe2/index.html" title="Info About PE2" class="md-nav__link">
      Info About PE2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pe2-comments/index.html" title="PE1 Comments and Answers" class="md-nav__link">
      PE1 Comments and Answers
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      General
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        General
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../about/index.html" title="About CS1010" class="md-nav__link">
      About CS1010
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../outcomes/index.html" title="Learning Outcomes" class="md-nav__link">
      Learning Outcomes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../schedule/index.html" title="Schedule" class="md-nav__link">
      Schedule
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../accounts/index.html" title="Accounts" class="md-nav__link">
      Accounts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../policies/index.html" title="Policies" class="md-nav__link">
      Policies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Notes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../01-program/index.html" title="1. What is a Program?" class="md-nav__link">
      1. What is a Program?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../02-algo/index.html" title="2. Computational Problem &amp; Algorithms" class="md-nav__link">
      2. Computational Problem &amp; Algorithms
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../03-func/index.html" title="3. Functions" class="md-nav__link">
      3. Functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../04-type/index.html" title="4. Types" class="md-nav__link">
      4. Types
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../05-first-c/index.html" title="5. First C Program" class="md-nav__link">
      5. First C Program
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../06-cs1010-io/index.html" title="6. CS1010 I/O Library" class="md-nav__link">
      6. CS1010 I/O Library
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../07-arithmetic-ops/index.html" title="7. Arithmetic Operations" class="md-nav__link">
      7. Arithmetic Operations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../08-if-else/index.html" title="8. If Else" class="md-nav__link">
      8. If Else
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../09-logical-exp/index.html" title="9. Logical Expression" class="md-nav__link">
      9. Logical Expression
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../10-assert/index.html" title="10. Assertion" class="md-nav__link">
      10. Assertion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../11-loop/index.html" title="11. Loops" class="md-nav__link">
      11. Loops
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../12-invariant/index.html" title="12. Reasoning About Loops" class="md-nav__link">
      12. Reasoning About Loops
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../13-call-stack/index.html" title="13. Call Stack" class="md-nav__link">
      13. Call Stack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../14-pointers/index.html" title="14. Pointers" class="md-nav__link">
      14. Pointers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../15-array/index.html" title="15. Arrays" class="md-nav__link">
      15. Arrays
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../16-string/index.html" title="16. Strings" class="md-nav__link">
      16. Strings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../17-call-by-reference/index.html" title="17. Call by Reference" class="md-nav__link">
      17. Call by Reference
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../18-heap/index.html" title="18. Heap" class="md-nav__link">
      18. Heap
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../19-md-array/index.html" title="19. Multidimensional Array" class="md-nav__link">
      19. Multidimensional Array
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../20-macro/index.html" title="20. C Pre-processing" class="md-nav__link">
      20. C Pre-processing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../21-assert/index.html" title="21. Assert" class="md-nav__link">
      21. Assert
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../22-efficiency/index.html" title="22. Efficiency" class="md-nav__link">
      22. Efficiency
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../23-search/index.html" title="23. Binary Search" class="md-nav__link">
      23. Binary Search
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../24-sort/index.html" title="24. Sorting" class="md-nav__link">
      24. Sorting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../25-tower/index.html" title="25. Tower of Hanoi" class="md-nav__link">
      25. Tower of Hanoi
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../26-permutation/index.html" title="26. Permutation" class="md-nav__link">
      26. Permutation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../27-queens/index.html" title="27. N Queens" class="md-nav__link">
      27. N Queens
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../28-struct/index.html" title="28. Structure" class="md-nav__link">
      28. Structure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../29-stdio/index.html" title="29. stdio" class="md-nav__link">
      29. stdio
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Exercises
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Exercises
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../ex01/index.html" title="1. Freezer" class="md-nav__link">
      1. Freezer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ex02/index.html" title="2. Leap, Suffix, Days" class="md-nav__link">
      2. Leap, Suffix, Days
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ex03/index.html" title="3. Binary, Rectangle, Fibonacci, Prime" class="md-nav__link">
      3. Binary, Rectangle, Fibonacci, Prime
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ex04/index.html" title="4. ID, Grade, Index, Max" class="md-nav__link">
      4. ID, Grade, Index, Max
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ex05/index.html" title="5. Square, Escape, Magic" class="md-nav__link">
      5. Square, Escape, Magic
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" checked>
    
    <label class="md-nav__link" for="nav-7">
      Assignments
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Assignments
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../assignment/index.html" title="General Guide" class="md-nav__link">
      General Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as01/index.html" title="1. Invest, Box, Digits, and Taxi" class="md-nav__link">
      1. Invest, Box, Digits, and Taxi
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as01-comments/index.html" title="1. Comments and Answer Keys" class="md-nav__link">
      1. Comments and Answer Keys
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as02/index.html" title="2. Collatz, Weekday, Circle, Pattern" class="md-nav__link">
      2. Collatz, Weekday, Circle, Pattern
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as02-comments/index.html" title="2. Comments and Answer Keys" class="md-nav__link">
      2. Comments and Answer Keys
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as03/index.html" title="3. Kendall, Histogram, CountingSort" class="md-nav__link">
      3. Kendall, Histogram, CountingSort
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as03-comments/index.html" title="3. Comments and Answer Keys" class="md-nav__link">
      3. Comments and Answer Keys
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as04/index.html" title="4. SelectionSort, Add, Mastermind" class="md-nav__link">
      4. SelectionSort, Add, Mastermind
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as04-comments/index.html" title="4. Comments and Answer Keys" class="md-nav__link">
      4. Comments and Answer Keys
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as05/index.html" title="5. Social, Life" class="md-nav__link">
      5. Social, Life
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as05-comments/index.html" title="5. Comments and Answer Keys" class="md-nav__link">
      5. Comments and Answer Keys
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as06/index.html" title="6. Permutation 1 2 3" class="md-nav__link">
      6. Permutation 1 2 3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as06-comments/index.html" title="6. Comments and Answer Keys" class="md-nav__link">
      6. Comments and Answer Keys
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as07/index.html" title="7. Peak, Scripts, Inversion" class="md-nav__link">
      7. Peak, Scripts, Inversion
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        7. Comments and Answer Keys
      </label>
    
    <a href="index.html" title="7. Comments and Answer Keys" class="md-nav__link md-nav__link--active">
      7. Comments and Answer Keys
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#notes-on-marking-schemes" title="Notes on Marking Schemes" class="md-nav__link">
    Notes on Marking Schemes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#answer-keys" title="Answer Keys" class="md-nav__link">
    Answer Keys
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#peak" title="Peak" class="md-nav__link">
    Peak
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scripts" title="Scripts" class="md-nav__link">
    Scripts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inversion" title="Inversion" class="md-nav__link">
    Inversion
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as08/index.html" title="8. Maze, Fill" class="md-nav__link">
      8. Maze, Fill
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as08-comments/index.html" title="8. Comments and Answer Keys" class="md-nav__link">
      8. Comments and Answer Keys
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as09/index.html" title="9. Digits" class="md-nav__link">
      9. Digits
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../quiz/index.html" title="Quizzes" class="md-nav__link">
      Quizzes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Kahoot!
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Kahoot!
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../kahoot01/index.html" title="Flow Charts" class="md-nav__link">
      Flow Charts
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../c-in-cs1010/index.html" title="C in CS1010" class="md-nav__link">
      C in CS1010
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../style/index.html" title="Style Guide" class="md-nav__link">
      Style Guide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../documentation/index.html" title="Documentation Guide" class="md-nav__link">
      Documentation Guide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../readings/index.html" title="Readings" class="md-nav__link">
      Readings
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      Software/Tools
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        Software/Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../environments/index.html" title="Programming Environments" class="md-nav__link">
      Programming Environments
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../unix/index.html" title="UNIX" class="md-nav__link">
      UNIX
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../clang/index.html" title="CLang" class="md-nav__link">
      CLang
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vim/index.html" title="Vim" class="md-nav__link">
      Vim
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lldb/index.html" title="LLDB" class="md-nav__link">
      LLDB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../library/index.html" title="CS1010 I/O" class="md-nav__link">
      CS1010 I/O
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#notes-on-marking-schemes" title="Notes on Marking Schemes" class="md-nav__link">
    Notes on Marking Schemes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#answer-keys" title="Answer Keys" class="md-nav__link">
    Answer Keys
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#peak" title="Peak" class="md-nav__link">
    Peak
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scripts" title="Scripts" class="md-nav__link">
    Scripts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inversion" title="Inversion" class="md-nav__link">
    Inversion
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/nus-cs1010/1819-s1/edit/master/docs/as07-comments.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="assignment-7-comments">Assignment 7: Comments</h1>
<h2 id="notes-on-marking-schemes">Notes on Marking Schemes</h2>
<p>For brevity, I won't repeat the detailed marking scheme, as it is the same as before.  One major change is that we start to deduct marks for documentation format errors.</p>
<p>The other major change is that we start to award marks based on the efficiency of the solution.</p>
<h2 id="answer-keys">Answer Keys</h2>
<h3 id="peak">Peak</h3>
<p>For an array with distinct elements, we need to take <span>\(O(\log n)\)</span> steps.  This hints that we need to cut down the possiblity of where the peak is by half at every comparison.  We can do something similar to binary search -- to check the middle element, and use it to decide where the peak could be.</p>
<p>Here are the six cases:</p>
<p><img alt="peak" src="../figures/peak/peak.001.png" />
<img alt="peak" src="../figures/peak/peak.002.png" />
<img alt="peak" src="../figures/peak/peak.003.png" /></p>
<p>The more tricky case is what happen when the middle point has the same elevation on either side.  In which case, we cannot tell where the peak is and we will have to search both sides for the peak.  This is the reason why if the elevation is not distinct, then the running time is more than <span>\(O(\log n)\)</span> (but still less than <span>\(O(n)\)</span>).</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="o">**</span>
 <span class="o">*</span> <span class="n">Check</span> <span class="k">if</span> <span class="n">there</span><span class="err">&#39;</span><span class="n">s</span> <span class="n">a</span> <span class="n">peak</span> <span class="p">(</span><span class="n">an</span> <span class="n">elevation</span> <span class="n">that</span> <span class="n">is</span> <span class="n">higher</span> <span class="n">than</span>
 <span class="o">*</span> <span class="n">both</span> <span class="n">points</span> <span class="n">on</span> <span class="n">its</span> <span class="n">left</span> <span class="n">and</span> <span class="n">right</span> <span class="n">side</span><span class="p">)</span> <span class="n">in</span> <span class="n">the</span> <span class="n">range</span>
 <span class="o">*</span> <span class="n">a</span><span class="p">[</span><span class="n">start</span><span class="p">]..</span><span class="n">a</span><span class="p">[</span><span class="n">end</span><span class="p">].</span>
 <span class="o">*</span>
 <span class="o">*</span> <span class="err">@</span><span class="n">param</span><span class="p">[</span><span class="n">in</span><span class="p">]</span> <span class="n">a</span> <span class="n">The</span> <span class="n">array</span> <span class="n">of</span> <span class="n">elevations</span><span class="p">.</span>
 <span class="o">*</span> <span class="err">@</span><span class="n">param</span><span class="p">[</span><span class="n">in</span><span class="p">]</span> <span class="n">start</span> <span class="n">The</span> <span class="n">staring</span> <span class="n">index</span><span class="p">.</span>
 <span class="o">*</span> <span class="err">@</span><span class="n">param</span><span class="p">[</span><span class="n">in</span><span class="p">]</span> <span class="n">end</span> <span class="n">The</span> <span class="n">ending</span> <span class="n">index</span><span class="p">.</span>
 <span class="o">*</span> <span class="err">@</span><span class="k">return</span> <span class="n">Return</span> <span class="n">the</span> <span class="n">index</span> <span class="n">of</span> <span class="n">peak</span><span class="p">,</span> <span class="n">or</span> <span class="n">NO_PEAK</span> <span class="k">if</span> <span class="n">no</span> <span class="n">peak</span> <span class="n">exists</span>
 <span class="err">*/</span>
<span class="cp">#define NO_PEAK (-1)</span>

<span class="kt">long</span> <span class="n">find_peak</span><span class="p">(</span><span class="k">const</span> <span class="kt">long</span> <span class="n">a</span><span class="p">[],</span> <span class="kt">long</span> <span class="n">start</span><span class="p">,</span> <span class="kt">long</span> <span class="n">end</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// There is no peak if less than 3 elements.</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">end</span> <span class="o">&lt;</span> <span class="n">start</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">NO_PEAK</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kt">long</span> <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>

  <span class="c1">// mid is higher than the nearby points, and hence it&#39;s a peak</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">a</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">a</span><span class="p">[</span><span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">a</span><span class="p">[</span><span class="n">mid</span><span class="p">])</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">mid</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// mid is at the same height as both left and right.  We have to</span>
  <span class="c1">// check both sides for peak.  Let&#39;s do the left side first.</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">a</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">a</span><span class="p">[</span><span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">a</span><span class="p">[</span><span class="n">mid</span><span class="p">])</span> <span class="p">{</span>
    <span class="kt">long</span> <span class="n">position</span> <span class="o">=</span> <span class="n">find_peak</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">mid</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">position</span> <span class="o">!=</span> <span class="n">NO_PEAK</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="n">position</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="c1">// There is no peak on the left side.  Check the right side.</span>
    <span class="k">return</span> <span class="n">find_peak</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">end</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="c1">// Check for peak on the right side.</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">a</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">a</span><span class="p">[</span><span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">a</span><span class="p">[</span><span class="n">mid</span><span class="p">])</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">find_peak</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">end</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="c1">// Check for peak on the left side.</span>
  <span class="c1">// { (a[mid - 1] &gt;= a[mid] &amp;&amp; a[mid + 1] &lt;= a[mid]) }</span>
  <span class="k">return</span> <span class="n">find_peak</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">mid</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<h3 id="scripts">Scripts</h3>
<p>The hint for this one is actually pretty obvious. So there is nothing to say :)  Here is the code:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="cm">/**</span>
<span class="cm"> * Given an array in[] of integers containing an increasing sequence</span>
<span class="cm"> * followed by a decresing sequence, rearrange the array so that</span>
<span class="cm"> * it becomes sorted.</span>
<span class="cm"> * @param[in]  len The length of the array in[].</span>
<span class="cm"> * @param[in]  in  The input array to be sorted.</span>
<span class="cm"> * @param[out] out The output array.</span>
<span class="cm"> * @pre The array in contains a (possibly empty) increasing sequence</span>
<span class="cm"> *      followed by a decreasing sequence.</span>
<span class="cm"> * @post The array out is sorted.</span>
<span class="cm"> */</span>
<span class="kt">void</span> <span class="nf">sort</span><span class="p">(</span><span class="kt">long</span> <span class="n">len</span><span class="p">,</span> <span class="k">const</span> <span class="kt">long</span> <span class="n">in</span><span class="p">[</span><span class="n">len</span><span class="p">],</span> <span class="kt">long</span> <span class="o">*</span><span class="n">out</span><span class="p">)</span> <span class="p">{</span>
  <span class="kt">long</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="kt">long</span> <span class="n">right</span> <span class="o">=</span> <span class="n">len</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
  <span class="kt">long</span> <span class="n">out_pos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">in</span><span class="p">[</span><span class="n">left</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">in</span><span class="p">[</span><span class="n">right</span><span class="p">])</span> <span class="p">{</span>
      <span class="n">out</span><span class="p">[</span><span class="n">out_pos</span><span class="p">]</span> <span class="o">=</span> <span class="n">in</span><span class="p">[</span><span class="n">left</span><span class="p">];</span>
      <span class="n">left</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="n">out</span><span class="p">[</span><span class="n">out_pos</span><span class="p">]</span> <span class="o">=</span> <span class="n">in</span><span class="p">[</span><span class="n">right</span><span class="p">];</span>
      <span class="n">right</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">out_pos</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>I can, however, add a few more words on this.  This algorithm, which merges two sorted array into one, is better known as, well, the merge algorithm, and it is a basic step in a fast sorting algorithm called merge sort, which runs in <span>\(O(n \log n)\)</span>.  The basic idea of merge sort is to split an input array into two halves, recursively sort each half.  Now you have a situation similar to John's, which you can merge into a sorted array in <span>\(O(n)\)</span> time.  It's pretty cool.  You can check out the animation from <a href="https://visualgo.net/bn/sorting">Visualgo</a></p>
<h3 id="inversion">Inversion</h3>
<p>For 20 marks, you just need one line of code -- if you know what you are doing.  Let me show you the solution first -- which is a modified version of the <code class="codehilite">sort</code> function from <code class="codehilite">scripts</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">long</span> <span class="nf">count_inversions</span><span class="p">(</span><span class="kt">long</span> <span class="n">len</span><span class="p">,</span> <span class="kt">long</span> <span class="n">in</span><span class="p">[</span><span class="n">len</span><span class="p">])</span> <span class="p">{</span>
  <span class="kt">long</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="kt">long</span> <span class="n">right</span> <span class="o">=</span> <span class="n">len</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
  <span class="kt">long</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">in</span><span class="p">[</span><span class="n">left</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">in</span><span class="p">[</span><span class="n">right</span><span class="p">])</span> <span class="p">{</span>
      <span class="n">left</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="n">sum</span> <span class="o">+=</span> <span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">;</span>  <span class="c1">// &lt;- 20 marks</span>
      <span class="n">right</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">sum</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Let's analyze the problem and see how to come up with this solution.</p>
<p>When we count inversions, we need to be careful about counting every pair once.  This is something you should have learned from <code class="codehilite">kendall</code>.   So we have to decide, for an element, whether we want to count inversions to the left or to the right of the element (but not both).   In our solution, we decided to count the inversions for elements to the left -- in other words, for an element <code class="codehilite">in[i]</code>, we count the number of elements from   <code class="codehilite">in[0]..in[i-1]</code> that are bigger than <code class="codehilite">in[i]</code>.</p>
<p>An <span>\(O(n^2)\)</span> solution scans from <code class="codehilite">in[0]</code> to <code class="codehilite">in[i-1]</code>, for each <code class="codehilite">i</code>.  This is a double-loop solution that will given you 0 marks.  </p>
<p>To get a faster solution, let's look at an example input below:</p>
<p><img alt="scripts" src="../figures/scripts/scripts.001.png" /></p>
<p>The blue elements are already sorted, so each element <code class="codehilite">in[i]</code> here does not contribute to the count on the number of inversions.</p>
<p>The purple elements, however, are inversely sorted so they contributes to the number of inversions.  Every purple elements on the left of <code class="codehilite">in[i]</code> is one inversion.  But that is not all, some of the blue elements are larger than <code class="codehilite">in[i]</code>, so we have to count those inversions as well.  The figure below shows that <code class="codehilite">in[6]</code> contributes 4 to the number of inversions since there are 4 elements to its left that is larger.</p>
<p><img alt="scripts" src="../figures/scripts/scripts.002.png" /></p>
<p>Now, the question is how to find how many blue elements are larger than <code class="codehilite">in[i]</code>.  The hints give some ideas.</p>
<p>The first hint is to use binary search.  Since the blue elements are sorted, we can use binary search to find the position in which we should insert <code class="codehilite">in[i]</code>.  (There is a in-class tutorial programming exercise on this).  That takes <span>\(O(\log n)\)</span> time for each element.  So the running time for this approach is <span>\(O(n \log n)\)</span>.  </p>
<p>The second hint is to use sort, which we just solved in the problem <code class="codehilite">scripts</code>.  Here is the sorting algorithm, again:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">void</span> <span class="nf">sort</span><span class="p">(</span><span class="kt">long</span> <span class="n">len</span><span class="p">,</span> <span class="k">const</span> <span class="kt">long</span> <span class="n">in</span><span class="p">[</span><span class="n">len</span><span class="p">],</span> <span class="kt">long</span> <span class="o">*</span><span class="n">out</span><span class="p">)</span> <span class="p">{</span>
  <span class="kt">long</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="kt">long</span> <span class="n">right</span> <span class="o">=</span> <span class="n">len</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
  <span class="kt">long</span> <span class="n">out_pos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">in</span><span class="p">[</span><span class="n">left</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">in</span><span class="p">[</span><span class="n">right</span><span class="p">])</span> <span class="p">{</span>
      <span class="n">out</span><span class="p">[</span><span class="n">out_pos</span><span class="p">]</span> <span class="o">=</span> <span class="n">in</span><span class="p">[</span><span class="n">left</span><span class="p">];</span>
      <span class="n">left</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="n">out</span><span class="p">[</span><span class="n">out_pos</span><span class="p">]</span> <span class="o">=</span> <span class="n">in</span><span class="p">[</span><span class="n">right</span><span class="p">];</span>
      <span class="n">right</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">out_pos</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Why does this algorithm work?   This algorithm actually maintains the following invariant
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>Every element in in[0]..in[left-1] &lt; min(in[left], in[right])
Every element in in[right+1]..in[len-1] &lt; min(in[left], in[right])
Every element in in[left+1]..in[right-1] &gt; min(in[left], in[right])
</pre></div>
</td></tr></table></p>
<p>which is why putting the minimum of <code class="codehilite">in[left]</code> and <code class="codehilite">in[right]</code> to the output array ensures that it is in sorted order.</p>
<p>The figures below illustrate this invariant -- elements in <code class="codehilite">in[0]..in[left-1]</code> and <code class="codehilite">in[right+1]..in[len-1]</code> are in gray.</p>
<p><img alt="invariant" src="../figures/scripts/scripts.003.png" /></p>
<p>Since we only move <code class="codehilite">left</code> or <code class="codehilite">right</code> on the smaller of the <code class="codehilite">in[left]</code> or <code class="codehilite">in[right]</code>, the invariant is maintained in every loop. </p>
<p>Let's consider the case where <code class="codehilite">in[right] &lt; in[left]</code>.    We can simplify the invariants to:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>Every element in in[0]..in[left-1] &lt; in[right]
Every element in in[right+1]..in[len-1] &lt; in[right]
Every element in in[left]..in[right-1] &gt; in[right] 
</pre></div>
</td></tr></table>

<p>The last invariant is the key to count the inversions -- we can conclude that <code class="codehilite">in[right]</code> contributes (<code class="codehilite">right</code> - 1) - <code class="codehilite">left</code> + 1 inversions to the total count.   Hence the line:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">long</span> <span class="nf">count_inversions</span><span class="p">(</span><span class="kt">long</span> <span class="n">len</span><span class="p">,</span> <span class="kt">long</span> <span class="n">in</span><span class="p">[</span><span class="n">len</span><span class="p">])</span> <span class="p">{</span>
  <span class="kt">long</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="kt">long</span> <span class="n">right</span> <span class="o">=</span> <span class="n">len</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
  <span class="kt">long</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">in</span><span class="p">[</span><span class="n">left</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">in</span><span class="p">[</span><span class="n">right</span><span class="p">])</span> <span class="p">{</span>
      <span class="n">left</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="n">sum</span> <span class="o">+=</span> <span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">;</span>  <span class="c1">// &lt;- 20 marks</span>
      <span class="n">right</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">sum</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>I think this question illustrates strongly my point at the very first lecture: writing code is easy, but knowing what to write is not!  </p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../as07/index.html" title="7. Peak, Scripts, Inversion" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                7. Peak, Scripts, Inversion
              </span>
            </div>
          </a>
        
        
          <a href="../as08/index.html" title="8. Maze, Fill" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                8. Maze, Fill
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright by Department of Computer Science, National University of Singapore 2018
          </div>
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.ed2cc613.js"></script>
      
      <script>app.initialize({version:"0.17.2",url:{base:".."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
    
      
    
  </body>
</html>