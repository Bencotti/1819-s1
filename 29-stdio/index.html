



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://nus-cs1010.github.io/1819-s1/29-stdio/index.html">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.5, mkdocs-material-2.9.2">
    
    
      
        <title>29. stdio - CS1010 Programming Methodology</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.ba0fd1a6.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Gentium+Book+Basic">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700">
    
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#unit-29-standard-io-functions" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://nus-cs1010.github.io/1819-s1" title="CS1010 Programming Methodology" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                CS1010 Programming Methodology
              </span>
              <span class="md-header-nav__topic">
                29. stdio
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/nus-cs1010/1819-s1/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    CS1010 Programming Methodology
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/nus-cs1010/1819-s1/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../index.html" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../midterm/index.html" title="Midterm" class="md-nav__link">
      Midterm
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../pe1/index.html" title="Practical Exam" class="md-nav__link">
      Practical Exam
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      General
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        General
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../about/index.html" title="About CS1010" class="md-nav__link">
      About CS1010
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../outcomes/index.html" title="Learning Outcomes" class="md-nav__link">
      Learning Outcomes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../schedule/index.html" title="Schedule" class="md-nav__link">
      Schedule
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../accounts/index.html" title="Accounts" class="md-nav__link">
      Accounts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../policies/index.html" title="Policies" class="md-nav__link">
      Policies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    
    <label class="md-nav__link" for="nav-5">
      Notes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../01-program/index.html" title="1. What is a Program?" class="md-nav__link">
      1. What is a Program?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../02-algo/index.html" title="2. Computational Problem &amp; Algorithms" class="md-nav__link">
      2. Computational Problem &amp; Algorithms
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../03-func/index.html" title="3. Functions" class="md-nav__link">
      3. Functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../04-type/index.html" title="4. Types" class="md-nav__link">
      4. Types
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../05-first-c/index.html" title="5. First C Program" class="md-nav__link">
      5. First C Program
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../06-cs1010-io/index.html" title="6. CS1010 I/O Library" class="md-nav__link">
      6. CS1010 I/O Library
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../07-arithmetic-ops/index.html" title="7. Arithmetic Operations" class="md-nav__link">
      7. Arithmetic Operations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../08-if-else/index.html" title="8. If Else" class="md-nav__link">
      8. If Else
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../09-logical-exp/index.html" title="9. Logical Expression" class="md-nav__link">
      9. Logical Expression
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../10-assert/index.html" title="10. Assertion" class="md-nav__link">
      10. Assertion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../11-loop/index.html" title="11. Loops" class="md-nav__link">
      11. Loops
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../12-invariant/index.html" title="12. Reasoning About Loops" class="md-nav__link">
      12. Reasoning About Loops
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../13-call-stack/index.html" title="13. Call Stack" class="md-nav__link">
      13. Call Stack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../14-pointers/index.html" title="14. Pointers" class="md-nav__link">
      14. Pointers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../15-array/index.html" title="15. Arrays" class="md-nav__link">
      15. Arrays
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../16-string/index.html" title="16. Strings" class="md-nav__link">
      16. Strings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../17-call-by-reference/index.html" title="17. Call by Reference" class="md-nav__link">
      17. Call by Reference
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../18-heap/index.html" title="18. Heap" class="md-nav__link">
      18. Heap
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../19-md-array/index.html" title="19. Multidimensional Array" class="md-nav__link">
      19. Multidimensional Array
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../20-macro/index.html" title="20. C Pre-processing" class="md-nav__link">
      20. C Pre-processing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../21-assert/index.html" title="21. Assert" class="md-nav__link">
      21. Assert
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../22-efficiency/index.html" title="22. Efficiency" class="md-nav__link">
      22. Efficiency
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../23-search/index.html" title="23. Binary Search" class="md-nav__link">
      23. Binary Search
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../24-sort/index.html" title="24. Sorting" class="md-nav__link">
      24. Sorting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../25-tower/index.html" title="25. Tower of Hanoi" class="md-nav__link">
      25. Tower of Hanoi
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../26-permutation/index.html" title="26. Permutation" class="md-nav__link">
      26. Permutation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../27-queens/index.html" title="27. N Queens" class="md-nav__link">
      27. N Queens
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../28-struct/index.html" title="28. Structure" class="md-nav__link">
      28. Structure
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        29. stdio
      </label>
    
    <a href="index.html" title="29. stdio" class="md-nav__link md-nav__link--active">
      29. stdio
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#printf" title="printf" class="md-nav__link">
    printf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pitfalls-when-using-printf" title="Pitfalls when using printf" class="md-nav__link">
    Pitfalls when using printf
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mismatch-types" title="Mismatch Types" class="md-nav__link">
    Mismatch Types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismatch-number-of-arguments" title="Mismatch Number of Arguments" class="md-nav__link">
    Mismatch Number of Arguments
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#printing-user-input" title="Printing User Input" class="md-nav__link">
    Printing User Input
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scanf" title="scanf" class="md-nav__link">
    scanf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pitfalls-when-using-scanf" title="Pitfalls When Using scanf" class="md-nav__link">
    Pitfalls When Using scanf
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#checking-for-error" title="Checking for Error" class="md-nav__link">
    Checking for Error
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalid-pointers" title="Invalid Pointers" class="md-nav__link">
    Invalid Pointers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#buffer-overflow" title="Buffer Overflow" class="md-nav__link">
    Buffer Overflow
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fgets" title="fgets" class="md-nav__link">
    fgets
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#avoid-atol-or-atof" title="Avoid atol or atof" class="md-nav__link">
    Avoid atol or atof
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Exercises
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Exercises
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../ex01/index.html" title="1. Freezer" class="md-nav__link">
      1. Freezer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ex02/index.html" title="2. Leap, Suffix, Days" class="md-nav__link">
      2. Leap, Suffix, Days
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ex03/index.html" title="3. Binary, Rectangle, Fibonacci, Prime" class="md-nav__link">
      3. Binary, Rectangle, Fibonacci, Prime
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ex04/index.html" title="4. ID, Grade, Index, Max" class="md-nav__link">
      4. ID, Grade, Index, Max
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ex05/index.html" title="5. Square, Escape, Magic" class="md-nav__link">
      5. Square, Escape, Magic
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Assignments
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Assignments
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../assignment/index.html" title="General Guide" class="md-nav__link">
      General Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as01/index.html" title="1. Invest, Box, Digits, and Taxi" class="md-nav__link">
      1. Invest, Box, Digits, and Taxi
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as01-comments/index.html" title="1. Comments and Answer Keys" class="md-nav__link">
      1. Comments and Answer Keys
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as02/index.html" title="2. Collatz, Weekday, Circle, Pattern" class="md-nav__link">
      2. Collatz, Weekday, Circle, Pattern
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as02-comments/index.html" title="2. Comments and Answer Keys" class="md-nav__link">
      2. Comments and Answer Keys
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as03/index.html" title="3. Kendall, Histogram, CountingSort" class="md-nav__link">
      3. Kendall, Histogram, CountingSort
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as03-comments/index.html" title="3. Comments and Answer Keys" class="md-nav__link">
      3. Comments and Answer Keys
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as04/index.html" title="4. SelectionSort, Add, Mastermind" class="md-nav__link">
      4. SelectionSort, Add, Mastermind
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as04-comments/index.html" title="4. Comments and Answer Keys" class="md-nav__link">
      4. Comments and Answer Keys
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as05/index.html" title="5. Social, Life" class="md-nav__link">
      5. Social, Life
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as05-comments/index.html" title="5. Comments and Answer Keys" class="md-nav__link">
      5. Comments and Answer Keys
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as06/index.html" title="6. Permutation 1 2 3" class="md-nav__link">
      6. Permutation 1 2 3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as07/index.html" title="7. Peak, Scripts, Inversion" class="md-nav__link">
      7. Peak, Scripts, Inversion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../as08/index.html" title="8. Maze, Fill" class="md-nav__link">
      8. Maze, Fill
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../quiz/index.html" title="Quizzes" class="md-nav__link">
      Quizzes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Kahoot!
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Kahoot!
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../kahoot01/index.html" title="Flow Charts" class="md-nav__link">
      Flow Charts
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../c-in-cs1010/index.html" title="C in CS1010" class="md-nav__link">
      C in CS1010
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../style/index.html" title="Style Guide" class="md-nav__link">
      Style Guide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../documentation/index.html" title="Documentation Guide" class="md-nav__link">
      Documentation Guide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../readings/index.html" title="Readings" class="md-nav__link">
      Readings
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      Software/Tools
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        Software/Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../environments/index.html" title="Programming Environments" class="md-nav__link">
      Programming Environments
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../unix/index.html" title="UNIX" class="md-nav__link">
      UNIX
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../clang/index.html" title="CLang" class="md-nav__link">
      CLang
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vim/index.html" title="Vim" class="md-nav__link">
      Vim
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lldb/index.html" title="LLDB" class="md-nav__link">
      LLDB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../library/index.html" title="CS1010 I/O" class="md-nav__link">
      CS1010 I/O
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#printf" title="printf" class="md-nav__link">
    printf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pitfalls-when-using-printf" title="Pitfalls when using printf" class="md-nav__link">
    Pitfalls when using printf
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mismatch-types" title="Mismatch Types" class="md-nav__link">
    Mismatch Types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismatch-number-of-arguments" title="Mismatch Number of Arguments" class="md-nav__link">
    Mismatch Number of Arguments
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#printing-user-input" title="Printing User Input" class="md-nav__link">
    Printing User Input
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scanf" title="scanf" class="md-nav__link">
    scanf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pitfalls-when-using-scanf" title="Pitfalls When Using scanf" class="md-nav__link">
    Pitfalls When Using scanf
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#checking-for-error" title="Checking for Error" class="md-nav__link">
    Checking for Error
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalid-pointers" title="Invalid Pointers" class="md-nav__link">
    Invalid Pointers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#buffer-overflow" title="Buffer Overflow" class="md-nav__link">
    Buffer Overflow
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fgets" title="fgets" class="md-nav__link">
    fgets
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#avoid-atol-or-atof" title="Avoid atol or atof" class="md-nav__link">
    Avoid atol or atof
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/nus-cs1010/1819-s1/edit/master/docs/29-stdio.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="unit-29-standard-io-functions">Unit 29: Standard I/O Functions</h1>
<p>We have been shielding you from the pain and pitfalls of using C I/O functions.  Since you are close to "graduate" from CS1010, this is a good time to show you what the real world is like.</p>
<h2 id="printf">printf</h2>
<p>The function <code class="codehilite">printf</code> is used to print a formatted string to the standard output.  Unlike functions that we have seen so far, <code class="codehilite">printf</code> can take in variable number of arguments, but it must have at least one argument -- a string written in a certain format.  The rest of the arguments can be of different types.  Let's look at an example:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">char</span> <span class="o">*</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;Siri&quot;</span><span class="p">;</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hello! My name is %s.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">);</span>
</pre></div>
</td></tr></table>

<p>The code above prints <code class="codehilite">Hello! My name is Siri.</code>.</p>
<p>There are two arguments to <code class="codehilite">printf</code>, both are strings.  The first is the string to print.  There is a placeholder <code class="codehilite"><span class="nf">%s</span></code> in the string, which will be replaced by the second argument <code class="codehilite">name</code>.  The string to print ends with <code class="codehilite">\n</code>, which is the new line character.</p>
<p>The placeholder <code class="codehilite"><span class="nf">%s</span></code> is called a <em>format modifier</em>.  It controls how to interpret the arguments (i.e., what type) and how to format the output.   The general format is:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c">%[flags][field_width][.precision][length_modifier]specifier</span>
</pre></div>
</td></tr></table>

<p>The letter after <code class="codehilite"><span class="c">%</span></code> controls the interpretion of the argument.  <code class="codehilite">s</code> for string, <code class="codehilite">c</code> for character, <code class="codehilite">d</code> for integer (base 10), <code class="codehilite">f</code> for floating point number, <code class="codehilite">p</code> for pointer (base 16).  We can additionally preprend this with <em>length modifier</em>.  <code class="codehilite">ld</code> for <code class="codehilite">long</code> integer, <code class="codehilite">lld</code> for <code class="codehilite">long long</code>, and <code class="codehilite">lf</code> for <code class="codehilite">double</code>.</p>
<p>To format the output, we can prepend it with a number to indicate its <em>field width</em>, or minimum space used when printing.  E.g., <code class="codehilite"><span class="c">%3d</span></code> will pad the number printed with space if the number printed is less than 3 digits.  Adding a <em>flag</em> 0 in front, <code class="codehilite"><span class="c">%03d</span></code>, will pad the number with 0s if the number printed is less than 3 digits.  Other flags include <code class="codehilite">+</code>, which tells <code class="codehilite">printf</code> to print a sign (<code class="codehilite">+</code> or <code class="codehilite">-</code>) for the number.  For floating point numbers, we can additionally control the <em>precision</em>, or the number of digits printed after the decimal point.  <code class="codehilite"><span class="c">%3.4lf</span></code> will print a double to four decimal points.</p>
<p>Note: <code class="codehilite">cs1010_println_double</code> uses <code class="codehilite"><span class="c">%.4lf</span></code> as the format modifier.</p>
<h2 id="pitfalls-when-using-printf">Pitfalls when using <code class="codehilite">printf</code></h2>
<h3 id="mismatch-types">Mismatch Types</h3>
<p><code class="codehilite">printf</code> does not check for the type of arguments we pass to it.  The compiler does, but it only politely warns us instead of throwing error like other type mismatches.</p>
<p>If you ignore such warnings, you might print strange things like:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d %f</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="mi">100000000000</span><span class="p">,</span> <span class="mi">100000000000</span><span class="p">);</span>
</pre></div>
</td></tr></table>

<p>or worse, crash your program:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="mi">100000000000</span><span class="p">,</span> <span class="mi">100000000000</span><span class="p">);</span>
</pre></div>
</td></tr></table>

<h3 id="mismatch-number-of-arguments">Mismatch Number of Arguments</h3>
<p>Since <code class="codehilite">printf</code> expects a variable number of arguments, you can pass it fewer arguments than expected and the code would still compile (with warnings).  If you push ahead and run it anyway, <code class="codehilite">printf</code> will start to fetch arguments from the stack, pretending that it is there, causing weird things to happen.</p>
<p>Consider:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d %s %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
</pre></div>
</td></tr></table>

<p>It would cause <code class="codehilite">printf</code> to access memory content of the stack as strings. </p>
<h3 id="printing-user-input">Printing User Input</h3>
<p>We should also never do this:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">char</span> <span class="o">*</span><span class="n">str</span> <span class="o">=</span> <span class="n">cs1010_read_word</span><span class="p">();</span>
<span class="n">printf</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
</pre></div>
</td></tr></table>

<p>The reason is that we have no control over what the user would type as input: the user may type "%s" into the standard  input, so the variable <code class="codehilite">str</code> now points to <code class="codehilite"><span class="nf">%s</span></code>, which <code class="codehilite">printf</code> treats as a format modifier, and output the content of the stack!  This is a huge security risk.</p>
<p>We should always print a string using:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s&quot;</span><span class="p">,</span> <span class="n">str</span><span class="p">);</span>
</pre></div>
</td></tr></table>

<h2 id="scanf">scanf</h2>
<p>The function <code class="codehilite">scanf</code> is used to read inputs from the standard input.  It requires us to pass in pointers to variables where we want to store the input value is.  Like <code class="codehilite">printf</code>, it takes in one or more arguments, with the first argument being a format string containing one or more format specifier.  The format specifier for <code class="codehilite">scanf</code> is simpler and has the following pattern:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c">%[*][field_width][length_modifier]specifier</span>
</pre></div>
</td></tr></table>

<p>For instance, to read an integer, a floating point number, and a string of at most 10 characters, </p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">long</span> <span class="n">l</span><span class="p">;</span>
<span class="kt">double</span> <span class="n">d</span><span class="p">;</span>
<span class="kt">char</span> <span class="n">s</span><span class="p">[</span><span class="mi">11</span><span class="p">];</span> 
<span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%ld %lf %10s&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">l</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">d</span><span class="p">,</span> <span class="n">s</span><span class="p">);</span>
</pre></div>
</td></tr></table>

<p><code class="codehilite">scanf</code> scans the standard input, try to match it to the format specified.
The space in between the format specifier matches zero or more white spaces (space, tab, newline).  Scanning stops when an input character does not match such a format character or when an input conversion fails.</p>
<p>Adding a <code class="codehilite">*</code> to the format modifier means that scanf should consume the inputs but not stored it in any variables.  This, combined with <code class="codehilite"><span class="c">%[``]</span></code> is useful to clear any remaining data from the standard input.</p>
<h2 id="pitfalls-when-using-scanf">Pitfalls When Using <code class="codehilite">scanf</code></h2>
<h3 id="checking-for-error">Checking for Error</h3>
<p>The function <code class="codehilite">scanf</code> fails silently when the input character does not match a format or when the input conversion fails.  It might return a totally unexpected input.  We should always check the return value of <code class="codehilite">scanf</code> to make sure that it is reading properly.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">long</span> <span class="n">a</span><span class="p">;</span>
<span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%ld&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">);</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%ld&quot;</span><span class="p">,</span> <span class="n">a</span><span class="p">);</span>
</pre></div>
</td></tr></table>

<p>The code above might print uninitialized value if the input is not an integer.</p>
<p>We should check</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">long</span> <span class="n">a</span><span class="p">;</span>
<span class="kt">long</span> <span class="n">result</span> <span class="o">=</span> <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%ld&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%ld&quot;</span><span class="p">,</span> <span class="n">a</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>The above, however, does not properly "clear" the standard input of the incorrect input.  So the next <code class="codehilite">scanf</code> calls would still try to read it again!</p>
<p>Th clear the input, we can use the <code class="codehilite"><span class="c">%*[^\n]</span></code> modifier, which read in any characters expect (<code class="codehilite">^</code>) the newline (<code class="codehilite">\n</code>).  </p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">long</span> <span class="n">a</span><span class="p">;</span>
<span class="kt">long</span> <span class="n">result</span> <span class="o">=</span> <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%ld&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%ld&quot;</span><span class="p">,</span> <span class="n">a</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;*[^</span><span class="se">\n</span><span class="s">]&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>As a side note, the <code class="codehilite"><span class="c">%[]</span></code> modifier is useful to read in strings containing certain range of characters only.  E.g., you can read <code class="codehilite"><span class="c">%[a-zA-Z0-9]</span></code> to match any sequence of alphanumeric characters.</p>
<h3 id="invalid-pointers">Invalid Pointers</h3>
<p>Since <code class="codehilite">scanf</code> expects the caller to pass in pointers to variables for it to store the results, we need to be careful about what we pass in.  It is easy to pass in something like this:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">long</span> <span class="o">*</span><span class="n">a</span><span class="p">;</span>
<span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%ld&quot;</span><span class="p">,</span> <span class="n">a</span><span class="p">);</span>
</pre></div>
</td></tr></table>

<p>The compiler would not warn us since the type matches perfectly.  The program may crash since the pointer is not pointing to a valid memory location accessible by the program.</p>
<h3 id="buffer-overflow">Buffer Overflow</h3>
<p>When we use <code class="codehilite">scanf</code> to read a string, it keeps reading until it reaches an empty space, and stores everything that it reads into an array.  The problem here is that, we do not know when it will stop reading, and therefore how big is the array that we need to allocate for the input!</p>
<p>Let's say we do:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">char</span> <span class="n">name</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;What&#39;s your name?&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">);</span>
<span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%s&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">);</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hello %s!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">);</span>
</pre></div>
</td></tr></table>

<p>The program would crash if we enter a very long string in the standard input.</p>
<p>You can read <a href="http://sekrit.de/webdocs/c/beginners-guide-away-from-scanf.html">a beginners' guide away from scanf()</a> for more information.</p>
<h2 id="fgets">fgets</h2>
<p><code class="codehilite">fgets</code> is a better alternative to <code class="codehilite">scanf</code> for reading inputs (Note: this is what CS1010 library use internally).  <code class="codehilite">fgets</code> takes three parameters, a pointer to a string (or buffer), the size of the buffer, and the input to read from (which can be a file, a network socket, or in our case, most of the time <code class="codehilite">stdin</code>).</p>
<p>The advantage of <code class="codehilite">fgets</code> is that it never overflows the buffer (it knows the size).  Once we read the input, we can use functions such as <code class="codehilite">strtol</code> or <code class="codehilite">strtod</code> to convert the strings to <code class="codehilite">long</code> or <code class="codehilite">double</code>.</p>
<h3 id="avoid-atol-or-atof">Avoid atol or atof</h3>
<p>Instead of <code class="codehilite">strtol</code> or <code class="codehilite">strtof</code>, some old school textbooks might show you that you can convert a string to a <code class="codehilite">long</code> or a <code class="codehilite">double</code> using <code class="codehilite">atol</code> or <code class="codehilite">atof</code>.  You should avoid these two functions (even the man pages of <code class="codehilite">atof</code> says so!).  They do not provide any mechanism for error checking if the string is not a valid integer or if the input is out of range of the type.</p>
<p>You can read <a href="https://github.com/nus-cs1010-1819-s1/libcs1010">the source code for the CS1010 library</a> to see how it uses <code class="codehilite">fgets</code>, <code class="codehilite">strtol</code> and related functions to parse numbers and strings from the standard inputs.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../28-struct/index.html" title="28. Structure" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                28. Structure
              </span>
            </div>
          </a>
        
        
          <a href="../ex01/index.html" title="1. Freezer" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                1. Freezer
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright by Department of Computer Science, National University of Singapore 2018
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.a59e2a89.js"></script>
      
      <script>app.initialize({version:"0.17.5",url:{base:".."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
    
      
    
  </body>
</html>