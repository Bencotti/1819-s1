



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://nus-cs1010.github.io/1819-s1/07-arithmetic-ops/index.html">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.5, mkdocs-material-2.9.2">
    
    
      
        <title>7. Arithmetic Operations - CS1010 Programming Methodology</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.ba0fd1a6.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Gentium+Book+Basic">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700">
    
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#unit-7-arithmetic-operations" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://nus-cs1010.github.io/1819-s1" title="CS1010 Programming Methodology" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                CS1010 Programming Methodology
              </span>
              <span class="md-header-nav__topic">
                7. Arithmetic Operations
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/nus-cs1010/1819-s1/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    CS1010 Programming Methodology
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/nus-cs1010/1819-s1/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../index.html" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      General
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        General
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../about/index.html" title="About CS1010" class="md-nav__link">
      About CS1010
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../outcomes/index.html" title="Learning Outcomes" class="md-nav__link">
      Learning Outcomes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../schedule/index.html" title="Schedule" class="md-nav__link">
      Schedule
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../accounts/index.html" title="Accounts" class="md-nav__link">
      Accounts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../policies/index.html" title="Policies" class="md-nav__link">
      Policies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Notes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../01-program/index.html" title="1. What is a Program?" class="md-nav__link">
      1. What is a Program?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../02-algo/index.html" title="2. Computational Problem &amp; Algorithms" class="md-nav__link">
      2. Computational Problem &amp; Algorithms
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../03-func/index.html" title="3. Functions" class="md-nav__link">
      3. Functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../04-type/index.html" title="4. Types" class="md-nav__link">
      4. Types
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../05-first-c/index.html" title="5. First C Program" class="md-nav__link">
      5. First C Program
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../06-cs1010-io/index.html" title="6. CS1010 I/O Library" class="md-nav__link">
      6. CS1010 I/O Library
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        7. Arithmetic Operations
      </label>
    
    <a href="index.html" title="7. Arithmetic Operations" class="md-nav__link md-nav__link--active">
      7. Arithmetic Operations
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#operator-precedence" title="Operator Precedence" class="md-nav__link">
    Operator Precedence
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compound-operators" title="Compound Operators" class="md-nav__link">
    Compound Operators
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-mistakes-using-arithmatic-operations" title="Common Mistakes Using Arithmatic Operations" class="md-nav__link">
    Common Mistakes Using Arithmatic Operations
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overflow" title="Overflow" class="md-nav__link">
    Overflow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integer-division" title="Integer Division" class="md-nav__link">
    Integer Division
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#avoid-increment-decrement-operator" title="Avoid Increment / Decrement Operator" class="md-nav__link">
    Avoid Increment / Decrement Operator
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../08-if-else/index.html" title="8. If Else" class="md-nav__link">
      8. If Else
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../09-logical-exp/index.html" title="9. Logical Expression" class="md-nav__link">
      9. Logical Expression
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../10-assert/index.html" title="10. Assertion" class="md-nav__link">
      10. Assertion
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../readings/index.html" title="Readings" class="md-nav__link">
      Readings
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Software/Tools
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Software/Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../environments/index.html" title="Programming Environments" class="md-nav__link">
      Programming Environments
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../unix/index.html" title="UNIX" class="md-nav__link">
      UNIX
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../clang/index.html" title="CLang" class="md-nav__link">
      CLang
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vim/index.html" title="Vim" class="md-nav__link">
      Vim
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../library/index.html" title="CS1010 I/O" class="md-nav__link">
      CS1010 I/O
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#operator-precedence" title="Operator Precedence" class="md-nav__link">
    Operator Precedence
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compound-operators" title="Compound Operators" class="md-nav__link">
    Compound Operators
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-mistakes-using-arithmatic-operations" title="Common Mistakes Using Arithmatic Operations" class="md-nav__link">
    Common Mistakes Using Arithmatic Operations
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overflow" title="Overflow" class="md-nav__link">
    Overflow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integer-division" title="Integer Division" class="md-nav__link">
    Integer Division
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#avoid-increment-decrement-operator" title="Avoid Increment / Decrement Operator" class="md-nav__link">
    Avoid Increment / Decrement Operator
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/nus-cs1010/1819-s1/edit/master/docs/07-arithmetic-ops.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="unit-7-arithmetic-operations">Unit 7: Arithmetic Operations</h1>
<p>You have seen the <code class="codehilite">+</code> operator in the previous units.  You can use <code class="codehilite">+</code> to add two variables, a value and a variable, or two values:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">long</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="kt">long</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="kt">long</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">b</span> <span class="o">+</span> <span class="n">c</span><span class="p">;</span> <span class="c1">// add two variables</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="mi">4</span><span class="p">;</span> <span class="c1">// add a variable to a value</span>
<span class="n">c</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">+</span> <span class="mi">6</span><span class="p">;</span> <span class="c1">// add two values</span>
</pre></div>
</td></tr></table>

<p>You can also use <code class="codehilite">+</code> on values returned by functions:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">hypotenuse</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">square</span><span class="p">(</span><span class="n">base</span><span class="p">)</span> <span class="o">+</span> <span class="n">square</span><span class="p">(</span><span class="n">height</span><span class="p">));</span>
</pre></div>
</td></tr></table>

<p>You have also seen the multiplication operator <code class="codehilite">*</code>.  It can be used in the same way as the <code class="codehilite">+</code> operator.  Three other useful operators are:</p>
<ul>
<li><code class="codehilite">/</code> - division (e.g., <code class="codehilite">double half_x = x / 2;</code>)</li>
<li><code class="codehilite">-</code> - subtraction (e.g., <code class="codehilite">long deducted = income - 100</code>)</li>
<li><code class="codehilite"><span class="c">%</span></code> - modulo (e.g, <code class="codehilite">long last_digit = number % 10</code>);</li>
</ul>
<p>The <code class="codehilite">+</code>, <code class="codehilite">-</code>, <code class="codehilite">*</code>, and <code class="codehilite">/</code> operators work on both integer types (<code class="codehilite">char</code>, <code class="codehilite">short</code>, <code class="codehilite">int</code>, <code class="codehilite">long</code>, <code class="codehilite">long long</code>) and real numbers (<code class="codehilite">float</code>, <code class="codehilite">double</code>).  The module operator <code class="codehilite"><span class="c">%</span></code> works only on integer types.</p>
<h2 id="operator-precedence">Operator Precedence</h2>
<p>We can chain the operations together to form expressions such as:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">long</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="kt">long</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="kt">long</span> <span class="n">a</span> <span class="o">=</span> <span class="n">b</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">c</span> <span class="o">/</span> <span class="mi">4</span><span class="p">;</span>
</pre></div>
</td></tr></table>

<p>When we have multiple operations appearing, however, it becomes harder to trace the sequence of evaluation.  What is the value of <code class="codehilite">a</code> after the three lines above are executed?</p>
<p>C actually has well-defined rules to the order of evaluation for the operators: <code class="codehilite">*</code>, <code class="codehilite">/</code>, and <code class="codehilite"><span class="c">%</span></code> take precedence over <code class="codehilite">+</code> and <code class="codehilite">-</code>, and the operators are evaluated from left to right.  </p>
<p>Thus, in the example above, <code class="codehilite">a</code> will be 11 instead of 6 after the execution.</p>
<p>To change the order of execution, we can add parenthesis to the expression.  For instance:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">long</span> <span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="n">b</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="n">c</span> <span class="o">/</span> <span class="mi">4</span><span class="p">;</span> <span class="c1">// 6</span>
<span class="kt">long</span> <span class="n">a</span> <span class="o">=</span> <span class="n">b</span> <span class="o">+</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">c</span> <span class="o">/</span> <span class="mi">4</span><span class="p">);</span> <span class="c1">// 11</span>
</pre></div>
</td></tr></table>

<p>The expression in the parenthesis will be evaluated first.  To make your code easier to understand, <em>you should add parenthesis even if the order of evaluation is from left to right</em> to make the order of evaluation explicit.</p>
<h2 id="compound-operators">Compound Operators</h2>
<p>It is common to modify the value of a variable and store new value back to the same variable.  For example,</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">index</span> <span class="o">=</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>  <span class="c1">// increment the variable index</span>
<span class="n">age</span> <span class="o">=</span> <span class="n">age</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>  <span class="c1">// double the variable age</span>
</pre></div>
</td></tr></table>

<p>C provides <em>compound operators</em> that simplify the expressions above.  For example,</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">age</span> <span class="o">*=</span> <span class="mi">2</span><span class="p">;</span>
</pre></div>
</td></tr></table>

<p>The syntax for a compound operator is <code class="codehilite">op=</code>, where <code class="codehilite">op</code> can be <code class="codehilite">+</code>, <code class="codehilite">-</code>, <code class="codehilite">*</code>, <code class="codehilite">/</code>, <code class="codehilite"><span class="c">%</span></code>, or other binary operators.  The statement:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>a op= b;
</pre></div>
</td></tr></table>

<p>modifies <code class="codehilite">a</code> the same way as:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>a = a op b
</pre></div>
</td></tr></table>

<h2 id="common-mistakes-using-arithmatic-operations">Common Mistakes Using Arithmatic Operations</h2>
<p>It is important to remember that, when arithmetic operations in C is performed on a sequence of bits, where the value that it can represent is limited and is determined by its type.  A common mistake for beginner programmers is to forget this fact and treat the arithmetic operations as the same as the ones seen in mathematics.  </p>
<p>Let's look at two common gotchas.</p>
<h3 id="overflow">Overflow</h3>
<p>Consider the following code:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">uint8_t</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">255</span><span class="p">;</span>
<span class="n">c</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</td></tr></table>

<p>What is the value of variable <code class="codehilite">c</code> after the operation above?</p>
<p>Here, we are adding one to the value 255, so <code class="codehilite">c</code> must store the value 256, right?</p>
<p>It turns out that after the execution above, <code class="codehilite">c</code> contains the value 0.  The variable <code class="codehilite">c</code> is of the type <code class="codehilite">uint8_t</code>, which is the unsigned 8-bit integer.  Being 8-bit, the variable can store values from 0 to 255.  When we add 1 to 255, even though we get the result 256, mathematically, we cannot store 256 in <code class="codehilite">c</code> -- there is not enough bits!  In this case, the value stored is "wrap around", and we get the value 0 instead.</p>
<p>The variable <code class="codehilite">c</code> above is unsigned. It gets trickier if <code class="codehilite">c</code> is signed.  In the case of overflowing signed integer, the behavior depends on the compiler and is undefined in the C standard.</p>
<h3 id="integer-division">Integer Division</h3>
<p>Now, let's consider the following code:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">double</span> <span class="n">half</span> <span class="o">=</span> <span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
</pre></div>
</td></tr></table>

<p>What is the value of variable <code class="codehilite">half</code> after the operation above?</p>
<p>It got to be 1.5, right?  </p>
<p>It turns out that, after executing the code above, the value of <code class="codehilite">half</code> is 1.0.  <img alt="😮" class="emojione" src="https://cdn.jsdelivr.net/emojione/assets/svg/1f62e.svg" title=":open_mouth:" /></p>
<p>To understand this, first, let's see what happen when we assign a floating point number to an integer type:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">1.5</span><span class="p">;</span>
</pre></div>
</td></tr></table>

<p>C truncates the floating number and only stores the integer part of the value, 1 in this case, in <code class="codehilite">x</code>.</p>
<p>Second, when we perform an arithmetic operation, the resulting value will be an integer if both values are integer types.  If one of the operands is a floating point number, the result will be a floating point number<sup id="fnref:1"><a class="footnote-ref" href="#fn:1" rel="footnote">1</a></sup>.</p>
<p>Since 3 and 2 are both integers, the resulting value 1.5 are stored in an integer, which causes it to become 1.  We then store 1 into a <code class="codehilite">double</code> variable, causing the value of <code class="codehilite">half</code> to become <code class="codehilite">1.0</code>.</p>
<p>Because of this limitation, the operation <code class="codehilite">/</code> is sometimes also known as integer division when both operands are integers.  </p>
<p>In order to get the result 1.5 as expected, we can write either:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">double</span> <span class="n">half</span> <span class="o">=</span> <span class="mi">3</span><span class="o">/</span><span class="mf">2.0</span><span class="p">;</span>
</pre></div>
</td></tr></table></p>
<p>or </p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">double</span> <span class="n">half</span> <span class="o">=</span> <span class="mi">3</span><span class="o">/</span><span class="p">(</span><span class="kt">double</span><span class="p">)</span><span class="mi">2</span><span class="p">;</span>
</pre></div>
</td></tr></table>

<p>The second fix above explicitly convert the type, or <em>cast</em> the type of value 2 into a <code class="codehilite">double</code>.</p>
<h2 id="avoid-increment-decrement-operator">Avoid Increment / Decrement Operator</h2>
<p>If you read C code in other places, you will certainly come across the increment or decrement operator, <code class="codehilite">++</code> or <code class="codehilite">--</code>.  The operators add one and minus one from the operand respectively.  So, the statement</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</td></tr></table>

<p>can be further shortened into </p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>index++;
</pre></div>
</td></tr></table>

<p>and the statement</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">index</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</td></tr></table>

<p>can be further shorten into </p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>index--;
</pre></div>
</td></tr></table>

<p>Using these two operators only shorten your code by two characters per statement, but introduces several issues.  As such, we <em>ban the use of both increment and decrement operator in CS1010</em>.</p>
<p>So, why aren't <code class="codehilite">++</code> and <code class="codehilite">--</code> welcomed in CS1010?  The <code class="codehilite">++</code> and <code class="codehilite">--</code> operators not only modify the value of the operand, it also returns a value.  We can write <code class="codehilite">j = i++;</code> to both increment <code class="codehilite">i</code> and assign the pre-incremented value of <code class="codehilite">i</code> to <code class="codehilite">j</code>.  In C, we can also write <code class="codehilite">j = ++i;</code>, which again, increment <code class="codehilite">i</code>, and assign the post-incremented value of <code class="codehilite">i</code> to <code class="codehilite">j</code>.  Things get tricky, when we write <code class="codehilite">i = i++;</code>, it is not clear how to interpret this.  The C standard leaves this behavior undefined and leaves it to the compiler to define its behavior.  Wei Tsang thinks that introducing all these complexities just to save two characters is not warranted.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>The actual rules used by C, called <em>integer promotion</em> and <em>usual arithmetic conversion</em>, are much more complex and are outside the scope of CS1010.  You should take a note of this, however, and in a later part of your study or career, if you need to delve deeper into writing or debugging C code, take a look at <a href="https://wiki.sei.cmu.edu/confluence/display/c/INT02-C.+Understand+integer+conversion+rules">this</a>.&#160;<a class="footnote-backref" href="#fnref:1" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../06-cs1010-io/index.html" title="6. CS1010 I/O Library" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                6. CS1010 I/O Library
              </span>
            </div>
          </a>
        
        
          <a href="../08-if-else/index.html" title="8. If Else" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                8. If Else
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright by Department of Computer Science, National University of Singapore 2018
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.a59e2a89.js"></script>
      
      <script>app.initialize({version:"0.17.5",url:{base:".."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
    
      
    
  </body>
</html>